<table *ngIf="projects.length; else noProjects">
  <thead>
  <tr>
    <th>Название проекта</th>
    <th>Категория проекта</th>
    <th>Дата</th>
    <th>Краткое описание</th>
    <th>Действие</th>
    <th>Заняло по времени</th>
    <th>Название(еще раз)</th>
  </tr>
  </thead>
  <tbody>
  <ng-container *ngFor="let allProject of allProjects let ii = index">
    <tr (click)="isCollapsed[ii] = !isCollapsed[ii]"
        [attr.aria-expanded]="!isCollapsed[ii]">
      <td>{{allProject.project.title}}</td>
      <td>{{allProject.project.category}}</td>
      <td>{{allProject.project.date_begin}}</td>
      <td></td>
      <td></td>

      <td>{{allProject.project.total_time}}</td>
    </tr>
    <tr *ngFor="let oneProject of allProject.projectAction; let i = index" [ngbCollapse]="isCollapsed[ii]">
      <td>{{oneProject.title}}</td>
      <td>{{oneProject.category}}</td>
      <td>{{oneProject.date}}</td>
      <td>{{oneProject.short_description}}</td>
      <td>{{oneProject.action}}</td>
      <td>{{oneProject.time}}</td>
    </tr>
  </ng-container>
  </tbody>
</table>

<table *ngIf="projects.length; else noProjects" (click)="isCollapsed3 = !isCollapsed3"
       [attr.aria-expanded]="!isCollapsed">
  <thead>
  <tr>
    <th>Название проекта</th>
    <th>Категория проекта</th>
    <th>Дата начала</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let distinctProject of distinctProjects">
    <td>{{distinctProject.title}}</td>
    <td>{{distinctProject.category}}</td>
    <td>{{distinctProject.date_begin}}</td>

  </tr>
  </tbody>
</table>

<table [ngbCollapse]="isCollapsed3" *ngIf="projects.length; else noProjects">
  <thead>
  <tr>
    <th>Название проекта</th>
    <th>Категория проекта</th>
    <th>Действия по проекту</th>
    <th>Дата действия</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let project of projects">
    <td>{{project.title}}</td>
    <td>{{project.category}}</td>
    <td>{{project.action}}</td>
    <td>{{project.date}}</td>
  </tr>
  </tbody>
</table>

<ng-template #noProjects>
  <p>Проектов пока нет...
</ng-template>
