<div class = "section">

  <div class="section_header">
    Настроение за день
    <div class="section_button">
      <a class="material-icons" (click)="click()">add</a>
    </div>
  </div>

  <div class="section_body container">
    <ng-template #dontclicked>
    <table  *ngIf="moods.length; else noMoods">
      <thead>
        <tr>
          <th>№</th>
          <th>Текущее настроение</th>
          <th>Дата время </th>
          <th>Причина</th>
          <th>Как можно исправить (плохое настроение)</th>
<!--          <th>Удалить</th>-->

        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let mood of moods; let i = index">
         <td><strong>{{i + 1}}</strong></td>
          <td>{{mood.cur_mood}}</td>
          <td>{{mood.date}}</td>
          <td>{{mood.reason}}</td>
          <td>{{mood.what_to_do}}</td>
<!--        <button class="btn" (click)="remove(mood, 'mood')">-</button>-->
         <td><span class="material-icons mi-del" (click)="remove(mood, 'mood')">delete</span></td>
        </tr>
      </tbody>

    </table>
    </ng-template>

<!--    <div class = "form">-->

    <form *ngIf="is_clicked; else dontclicked" (ngSubmit)="submit()" [formGroup]="formMoods">
      <div class="form">

<!--      <mat-form-field class="text-center mood_select" >-->
<!--        <mat-label class="text-center">Выбери настроение</mat-label>-->
<!--        <mat-select [(value)]="selected" formControlName="cur_mood" >-->
<!--          <mat-option *ngFor="let one_mood of categories_moods" [value]="one_mood.mood">-->
<!--            {{one_mood.mood}}-->
<!--          </mat-option>-->
<!--        </mat-select>-->
<!--      </mat-form-field>-->

        <label for = "cur_mood">Текущее настроение:</label>
        <input type="text" placeholder="Выбери настроение" id = "cur_mood" formControlName="cur_mood" [matAutocomplete]="auto">

        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredCategories | async" [value]="option.category">
            {{option.category}}
          </mat-option>
        </mat-autocomplete>
      <!--      <input type="text" class="input-group" formControlName="cur_mood" placeholder="Добавить настроение">-->
<!--      <p></p>-->
      <label for = "reason">Добавить причину настроения:</label>
      <input type="text" class="input-group" id = "reason" formControlName="reason" placeholder="Добавить причину настроения">

      <label for = "what_to_do">Как можно исправить (плохое настроение):</label>
      <input type="text" class="input-group" id = "what_to_do" formControlName="what_to_do" placeholder="Действия в данной ситуации">
<!--     <p></p>-->
      </div>
      <button
        type="submit"
        class="btn btn-block btn_add footer"
      >Добавить</button>

    </form>



    <ng-template #noMoods>
      <p class="text-center nodata">Настроение пока не выбрано..</p>
<!--      <button-->
<!--        type="submit"-->
<!--        class="btn invisible" (click)="click()">-->
<!--        Добавить настроение</button>-->

    </ng-template>

  </div>
  </div>
<!--</div>-->
